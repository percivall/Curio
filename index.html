<!DOCTYPE html>
<html xmlns="https://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<meta name = "viewport" content = "initial-scale = 1.0, maximum-scale = 2.0, user-scalable = yes, width = device-width">
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<title>Otium Core</title>
<style>
<!--
html {
	height: 100%;
}
body {
	background: #444;
	background: radial-gradient(white, black);
	background: -webkit-radial-gradient(white, black); /* kludge: for old Safari on Win */
	margin: 0;
	padding: 0;
	height: 100%;
}

/* Slide ------------------------- */
#slide {
	height: 100%;
	width: 100%;
	margin: 0;
	padding: 0;
	border: 0;
}
#slide td {
	vertical-align: middle;
	text-align: center;
}
#activeSlide {
	border: none;
	box-shadow: 0px 0px 15px rgba(0,0,0,0.5);
	image-rendering: auto;
	
}

/* Navigation buttons ------------------------- */
#navigation div {
	position: fixed;
	top: 5px;
	height: 50px;
	width: 50px;
	border: 2px solid #000;
	z-index: 100;
	line-height: 50px;
	text-align: center;
	display: table-cell;
	font-size: 36px;
	background-color: #fff;
	cursor: pointer;
}
#tocIcon {
	left: 5px;
}
#previousIcon {
	right: 60px;
}
#previousIcon:hover {
	background-color: #999;
}
#nextIcon {
	right: 5px;
}
#nextIcon:hover {
	background-color: #999;
}
#previousIcon, #nextIcon {
	font-size: 24px !important;
}

/* Table of Contents popup ------------------------- */
#toc {
	position: fixed;
	top: 0px;
	left: 0px;
	background-color: #e7eaf0;
	width: 200px;
	height: 100%;
	overflow: auto;
	-webkit-overflow-scrolling: touch;
	border-right: 1px solid #929292;
	z-index: 1000;
}
#toc ul {
	margin: 0;
	padding: 0;
	font-family: HelveticaNeue, Helvetica, Arial, Verdana, sans-serif;
	font-size: 11px;
	list-style-type: none;
}
#toc ul li {
	margin: 8px;
	white-space: nowrap;
}
#toc ul li a {
	color: #000;
	text-decoration: none;
}
#toc ul li a:hover {
	color: #0A6DBF;
	text-decoration: underline;
}
#toc ul li img {
	margin-right: 5px;
	vertical-align: middle;
	border: none;
	width: 50px;
}
-->
</style>
<script type="text/javascript">
var isTouchDevice = 'ontouchstart' in document.documentElement;
var isSafari = /Safari/.test(navigator.userAgent) && /Apple Computer/.test(navigator.vendor);
var currentSlideIndex = 0;
var projectTitle = "Otium Core";
var slides = new Array();  
var slideHierarchy = [
		{
			title: "Natural Philosophy top v1",
			uuid: "3D626026-72F2-4576-92FC-47DC795832EF",
			tags: [],
			image: "Contents/Natural%20Philosophy%20t-3d626026-72f2-4576-92fc-47dc795832ef.png?nocache=778531079",
			imageSize: { width: 1523.000000, height: 2233.000000 },
			thumbnail: "Contents/Natural%20Philosophy%20t-3d626026-72f2-4576-92fc-47dc795832ef-Thumb.png?nocache=778531079",
			imagemap: [
				{
					href: "javascript:goToSlideWithUUID('EC283BFA-DDF3-463C-8809-BAD7A94A5D45')",
					tags: [],
					shape: "polygon",
					coords: "365,471 652,471 652,538 365,538",
				},
				{
					href: "javascript:goToSlideWithUUID('CEE75394-79AB-42D9-9AE0-77314FC5BA75')",
					tags: [],
					shape: "polygon",
					coords: "365,2096 652,2096 652,2163 365,2163",
				},
				{
					href: "javascript:goToSlideWithUUID('564D5FC4-0DB1-4693-8560-33E753527CAD')",
					tags: [],
					shape: "polygon",
					coords: "365,1172 652,1172 652,1239 365,1239",
				},
				{
					href: "javascript:goToSlideWithUUID('284E1226-4C93-4CC7-8E81-8D66A41BD4E3')",
					tags: [],
					shape: "polygon",
					coords: "365,1523 652,1523 652,1590 365,1590",
				},
				{
					href: "evernote:///view/8220413/s75/76faa747-f95a-2c2d-19a4-d1225be85db6/76faa747-f95a-2c2d-19a4-d1225be85db6/",
					tags: [],
					shape: "polygon",
					coords: "839,1474 1168,1474 1168,1501 839,1501",
				},
				{
					href: "evernote:///view/8220413/s75/bfc0ede0-eee3-484f-90b5-b2e2b2bab87a/bfc0ede0-eee3-484f-90b5-b2e2b2bab87a/",
					tags: [],
					shape: "polygon",
					coords: "839,1548 1128,1548 1128,1575 839,1575",
				},
				{
					href: "evernote:///view/8220413/s75/0e13f721-9fb7-a721-505c-0ce32da0a75b/0e13f721-9fb7-a721-505c-0ce32da0a75b/",
					tags: [],
					shape: "polygon",
					coords: "839,1585 1249,1585 1249,1612 839,1612",
				},
				{
					href: "evernote:///view/8220413/s75/240d80e5-45da-4814-bb43-888f2e5d46aa/240d80e5-45da-4814-bb43-888f2e5d46aa/",
					tags: [],
					shape: "polygon",
					coords: "839,1659 1363,1659 1363,1686 839,1686",
				},
				{
					href: "evernote:///view/8220413/s75/99c2bbd5-2023-4b1f-8de0-6911e3c560b0/99c2bbd5-2023-4b1f-8de0-6911e3c560b0/",
					tags: [],
					shape: "polygon",
					coords: "879,1515 1072,1515 1072,1542 879,1542",
				},
				{
					href: "javascript:goToSlideWithUUID('32CC6256-6900-4468-9780-C2A0FE822555')",
					tags: [],
					shape: "polygon",
					coords: "879,1552 1083,1552 1083,1581 879,1581",
				},
				{
					href: "javascript:goToSlideWithUUID('28DB5B66-B021-4665-AE49-18508E2C5EA2')",
					tags: [],
					shape: "polygon",
					coords: "879,1591 1014,1591 1014,1620 879,1620",
				},
				{
					href: "javascript:goToSlideWithUUID('99124B45-BAE8-42A0-B37C-57873C06BBE2')",
					tags: [],
					shape: "polygon",
					coords: "879,1704 1123,1704 1123,1733 879,1733",
				},
				{
					href: "evernote:///view/8220413/s75/47b9393d-0187-bfcb-fe08-f7d4922aa1f7/47b9393d-0187-bfcb-fe08-f7d4922aa1f7/",
					tags: [],
					shape: "polygon",
					coords: "886,1609 1197,1609 1197,1636 886,1636",
				},
				{
					href: "javascript:goToSlideWithUUID('6C25561E-E569-4C08-B1F0-A46AFA28D8B8')",
					tags: [],
					shape: "polygon",
					coords: "886,1646 1174,1646 1174,1675 886,1675",
				},
				{
					href: "evernote:///view/8220413/s75/f4516c3d-1120-0db3-6eeb-932cadd45ddc/f4516c3d-1120-0db3-6eeb-932cadd45ddc/",
					tags: [],
					shape: "polygon",
					coords: "1056,1685 1241,1685 1241,1712 1056,1712",
				},
				{
					href: "evernote:///view/8220413/s75/3587efd9-4ff1-f34b-daf8-f2208deea95f/3587efd9-4ff1-f34b-daf8-f2208deea95f/",
					tags: [],
					shape: "polygon",
					coords: "1140,1634 1411,1634 1411,1661 1140,1661",
				},
				{
					href: "evernote:///view/8220413/s75/281b908a-096d-42ed-a350-3f908734bea8/281b908a-096d-42ed-a350-3f908734bea8/",
					tags: [],
					shape: "polygon",
					coords: "1140,1644 1419,1644 1419,1671 1140,1671",
				},
				{
					href: "javascript:goToSlideWithUUID('55974A27-C6AE-487F-AD91-6F0E39D26C60')",
					tags: [],
					shape: "polygon",
					coords: "682,2094 816,2094 816,2125 682,2125",
				},
				{
					href: "javascript:goToSlideWithUUID('4B7FE594-D934-45C6-9DB6-741BD8AF9E50')",
					tags: [],
					shape: "polygon",
					coords: "365,1854 652,1854 652,1893 365,1893",
				},
				{
					href: "evernote:///view/8220413/s75/8e7f6aff-37ea-4cae-bd25-320cae1d7fe4/8e7f6aff-37ea-4cae-bd25-320cae1d7fe4/",
					tags: [],
					shape: "polygon",
					coords: "682,97 930,97 930,128 682,128",
				},
				{
					href: "evernote:///view/8220413/s75/d9f2fda2-52cd-dad5-c7ac-ee468825dd35/d9f2fda2-52cd-dad5-c7ac-ee468825dd35/",
					tags: [],
					shape: "polygon",
					coords: "976,137 1148,137 1148,166 976,166",
				},
				{
					href: "evernote:///view/8220413/s75/1fef8e52-90dc-407f-bcee-8a0157f223cd/1fef8e52-90dc-407f-bcee-8a0157f223cd/",
					tags: [],
					shape: "polygon",
					coords: "682,56 1013,56 1013,87 682,87",
				},
				{
					href: "evernote:///view/8220413/s75/74a002a6-ae6f-4e41-bfeb-c38834729394/74a002a6-ae6f-4e41-bfeb-c38834729394/",
					tags: [],
					shape: "polygon",
					coords: "682,1202 961,1202 961,1233 682,1233",
				},
				{
					href: "evernote:///view/8220413/s75/a45ef130-7878-4010-b600-04737db3c07a/a45ef130-7878-4010-b600-04737db3c07a/",
					tags: [],
					shape: "polygon",
					coords: "991,1217 1350,1217 1350,1244 991,1244",
				},
				{
					href: "evernote:///view/8220413/s75/86c62bcb-fcdc-4a42-94e2-b3c357599a6a/86c62bcb-fcdc-4a42-94e2-b3c357599a6a/",
					tags: [],
					shape: "polygon",
					coords: "991,1254 1235,1254 1235,1281 991,1281",
				},
				{
					href: "evernote:///view/8220413/s75/dc2c2b6d-7619-0cd5-1438-2e5237762b65/dc2c2b6d-7619-0cd5-1438-2e5237762b65/",
					tags: [],
					shape: "polygon",
					coords: "1265,1254 1502,1254 1502,1281 1265,1281",
				},
				{
					href: "evernote:///view/8220413/s75/340b3b8c-80ad-9629-f742-1a47538d927e/340b3b8c-80ad-9629-f742-1a47538d927e/",
					tags: [],
					shape: "polygon",
					coords: "991,1291 1360,1291 1360,1318 991,1318",
				},
				{
					href: "evernote:///view/8220413/s75/02141750-aeee-4bfb-83bc-4a8b0c7dc487/02141750-aeee-4bfb-83bc-4a8b0c7dc487/",
					tags: [],
					shape: "polygon",
					coords: "682,1243 946,1243 946,1274 682,1274",
				},
				{
					href: "evernote:///view/8220413/s75/1ee53e42-cf3f-29f4-fc32-d7fbf09dd62a/1ee53e42-cf3f-29f4-fc32-d7fbf09dd62a/",
					tags: [],
					shape: "polygon",
					coords: "976,1266 1246,1266 1246,1293 976,1293",
				},
				{
					href: "evernote:///view/8220413/s75/788ed54e-3cca-4918-b6c3-5e5d78b42878/788ed54e-3cca-4918-b6c3-5e5d78b42878/",
					tags: [],
					shape: "polygon",
					coords: "976,1335 1175,1335 1175,1362 976,1362",
				},
				{
					href: "evernote:///view/8220413/s75/c205d82a-9fac-48c5-8ca4-49d70912240c/c205d82a-9fac-48c5-8ca4-49d70912240c/",
					tags: [],
					shape: "polygon",
					coords: "976,1420 1230,1420 1230,1447 976,1447",
				},
				{
					href: "evernote:///view/8220413/s75/85711e51-a4e7-01d5-241c-7b340905e96c/85711e51-a4e7-01d5-241c-7b340905e96c/",
					tags: [],
					shape: "polygon",
					coords: "976,1609 1235,1609 1235,1636 976,1636",
				},
				{
					href: "evernote:///view/8220413/s75/bfefd30f-5c93-470c-8e0a-79482fab62be/bfefd30f-5c93-470c-8e0a-79482fab62be/",
					tags: [],
					shape: "polygon",
					coords: "976,1774 1213,1774 1213,1801 976,1801",
				},
				{
					href: "evernote:///view/8220413/s75/eda7e31d-12c8-44b1-921d-045e1c5edb38/eda7e31d-12c8-44b1-921d-045e1c5edb38/",
					tags: [],
					shape: "polygon",
					coords: "1175,1422 1484,1422 1484,1449 1175,1449",
				},
				{
					href: "evernote:///view/8220413/s75/7790efcb-f9bf-797e-add2-ba759891fc1c/7790efcb-f9bf-797e-add2-ba759891fc1c/",
					tags: [],
					shape: "polygon",
					coords: "1514,1422 1932,1422 1932,1449 1514,1449",
				},
				{
					href: "evernote:///view/8220413/s75/8a4609a8-45b7-4e4e-ae11-497ca5bf1259/8a4609a8-45b7-4e4e-ae11-497ca5bf1259/",
					tags: [],
					shape: "polygon",
					coords: "1175,1459 1440,1459 1440,1486 1175,1486",
				},
				{
					href: "evernote:///view/8220413/s75/609006d3-829b-4103-b1c9-2e691c5cb938/609006d3-829b-4103-b1c9-2e691c5cb938/",
					tags: [],
					shape: "polygon",
					coords: "1056,1608 1325,1608 1325,1635 1056,1635",
				},
				{
					href: "evernote:///view/8220413/s75/1022cc12-0a0d-44ad-b212-3f8fdaef2fa7/1022cc12-0a0d-44ad-b212-3f8fdaef2fa7/",
					tags: [],
					shape: "polygon",
					coords: "1217,1757 1502,1757 1502,1784 1217,1784",
				},
				{
					href: "evernote:///view/8220413/s75/dd86263e-1b10-4098-97ec-d49560521a10/dd86263e-1b10-4098-97ec-d49560521a10/",
					tags: [],
					shape: "polygon",
					coords: "1217,1767 1358,1767 1358,1794 1217,1794",
				},
				{
					href: "javascript:goToSlideWithUUID('CDB41B46-B125-465D-A745-50190ED71D10')",
					tags: [],
					shape: "polygon",
					coords: "682,1366 862,1366 862,1397 682,1397",
				},
				{
					href: "javascript:goToSlideWithUUID('CDB41B46-B125-465D-A745-50190ED71D10')",
					tags: [],
					shape: "polygon",
					coords: "919,517 1043,517 1043,546 919,546",
				},
				{
					href: "javascript:goToSlideWithUUID('CDB41B46-B125-465D-A745-50190ED71D10')",
					tags: [],
					shape: "polygon",
					coords: "854,973 985,973 985,1002 854,1002",
				},
				{
					href: "evernote:///view/8220413/s75/cf16014b-56d0-4859-e3b9-5fb921c2c871/cf16014b-56d0-4859-e3b9-5fb921c2c871/",
					tags: [],
					shape: "polygon",
					coords: "907,1013 1123,1013 1123,1040 907,1040",
				},
				{
					href: "evernote:///view/8220413/s75/6818a7aa-5d0e-3871-4140-a0ba852fc6d0/6818a7aa-5d0e-3871-4140-a0ba852fc6d0/",
					tags: [],
					shape: "polygon",
					coords: "1108,1050 1336,1050 1336,1077 1108,1077",
				},
				{
					href: "evernote:///view/8220413/s75/13cadda7-aed0-bdce-e853-ffb89ab2f088/13cadda7-aed0-bdce-e853-ffb89ab2f088/",
					tags: [],
					shape: "polygon",
					coords: "1108,1087 1390,1087 1390,1114 1108,1114",
				},
				{
					href: "evernote:///view/8220413/s75/caefe920-299f-4047-85c9-4cb06542290c/caefe920-299f-4047-85c9-4cb06542290c/",
					tags: [],
					shape: "polygon",
					coords: "1108,1124 1282,1124 1282,1151 1108,1151",
				},
				{
					href: "evernote:///view/8220413/s75/cdef9d53-edea-4644-aee9-d355caa49158/cdef9d53-edea-4644-aee9-d355caa49158/",
					tags: [],
					shape: "polygon",
					coords: "1008,1344 1363,1344 1363,1371 1008,1371",
				},
				{
					href: "evernote:///view/8220413/s75/cf33a302-0ff9-4e97-9675-ad01329a20eb/cf33a302-0ff9-4e97-9675-ad01329a20eb/",
					tags: [],
					shape: "polygon",
					coords: "1393,1474 1589,1474 1589,1501 1393,1501",
				},
				{
					href: "evernote:///view/8220413/s75/e5859d9c-6629-403d-a69a-f37aac0bf253/e5859d9c-6629-403d-a69a-f37aac0bf253/",
					tags: [],
					shape: "polygon",
					coords: "1619,1474 1967,1474 1967,1501 1619,1501",
				},
				{
					href: "evernote:///view/8220413/s75/24137d78-95b9-4354-beba-362c8bfad9fc/24137d78-95b9-4354-beba-362c8bfad9fc/",
					tags: [],
					shape: "polygon",
					coords: "1393,1511 1579,1511 1579,1538 1393,1538",
				},
				{
					href: "evernote:///view/8220413/s75/61d580d6-c66e-4fdc-b4a9-3c392c7e071d/61d580d6-c66e-4fdc-b4a9-3c392c7e071d/",
					tags: [],
					shape: "polygon",
					coords: "1609,1511 1873,1511 1873,1538 1609,1538",
				},
				{
					href: "evernote:///view/8220413/s75/202801ef-20e0-4aa6-831b-df6025134068/202801ef-20e0-4aa6-831b-df6025134068/",
					tags: [],
					shape: "polygon",
					coords: "1008,1788 1364,1788 1364,1815 1008,1815",
				},
				{
					href: "evernote:///view/8220413/s75/5e0a0618-5b0f-4e57-9836-1a719a2f7399/5e0a0618-5b0f-4e57-9836-1a719a2f7399/",
					tags: [],
					shape: "polygon",
					coords: "1394,1737 1556,1737 1556,1764 1394,1764",
				},
				{
					href: "evernote:///view/8220413/s75/dd86263e-1b10-4098-97ec-d49560521a10/dd86263e-1b10-4098-97ec-d49560521a10/",
					tags: [],
					shape: "polygon",
					coords: "1394,1921 1535,1921 1535,1948 1394,1948",
				},
				{
					href: "evernote:///view/8220413/s75/003f8cb4-e24e-442a-8d2b-ce83b1afec41/003f8cb4-e24e-442a-8d2b-ce83b1afec41/",
					tags: [],
					shape: "polygon",
					coords: "682,1284 977,1284 977,1315 682,1315",
				},
				{
					href: "evernote:///view/8220413/s75/4caa70b7-4136-4277-b03d-723bd6594a98/4caa70b7-4136-4277-b03d-723bd6594a98/",
					tags: [],
					shape: "polygon",
					coords: "1007,1355 1205,1355 1205,1382 1007,1382",
				},
				{
					href: "evernote:///view/8220413/s75/406f747f-0436-d8bb-94ce-8d6faf8740f8/406f747f-0436-d8bb-94ce-8d6faf8740f8/",
					tags: [],
					shape: "polygon",
					coords: "1007,1448 1525,1448 1525,1475 1007,1475",
				},
				{
					href: "javascript:goToSlideWithUUID('CDB41B46-B125-465D-A745-50190ED71D10')",
					tags: [],
					shape: "polygon",
					coords: "682,1623 821,1623 821,1654 682,1654",
				},
				{
					href: "javascript:goToSlideWithUUID('CDB41B46-B125-465D-A745-50190ED71D10')",
					tags: [],
					shape: "polygon",
					coords: "682,2001 858,2001 858,2032 682,2032",
				},
				{
					href: "javascript:goToSlideWithUUID('CDB41B46-B125-465D-A745-50190ED71D10')",
					tags: [],
					shape: "polygon",
					coords: "682,2042 816,2042 816,2073 682,2073",
				},
				{
					href: "javascript:goToSlideWithUUID('CDB41B46-B125-465D-A745-50190ED71D10')",
					tags: [],
					shape: "polygon",
					coords: "682,2135 831,2135 831,2165 682,2165",
				},
				{
					href: "evernote:///view/8220413/s75/3587efd9-4ff1-f34b-daf8-f2208deea95f/3587efd9-4ff1-f34b-daf8-f2208deea95f/",
					tags: [],
					shape: "polygon",
					coords: "1023,1848 1294,1848 1294,1875 1023,1875",
				},
				{
					href: "evernote:///view/8220413/s75/281b908a-096d-42ed-a350-3f908734bea8/281b908a-096d-42ed-a350-3f908734bea8/",
					tags: [],
					shape: "polygon",
					coords: "1023,1858 1302,1858 1302,1885 1023,1885",
				},
				{
					href: "javascript:goToSlideWithUUID('CDB41B46-B125-465D-A745-50190ED71D10')",
					tags: [],
					shape: "polygon",
					coords: "682,922 850,922 850,953 682,953",
				}
			]
		},
		{
			title: "Natural Philosophy top v1",
			uuid: "1D99AD12-9ECD-47A2-A36E-5F124CC8220D",
			tags: [],
			image: "Contents/Natural%20Philosophy%20t-1d99ad12-9ecd-47a2-a36e-5f124cc8220d.png?nocache=778531079",
			imageSize: { width: 930.000000, height: 3143.000000 },
			thumbnail: "Contents/Natural%20Philosophy%20t-1d99ad12-9ecd-47a2-a36e-5f124cc8220d-Thumb.png?nocache=778531079"
		}
	]
;

function loadTOC(elementToAddTo, slidesAtLevel) {
	if (!slidesAtLevel)
		return;
		
	var listElement = document.createElement("ul");
	
	for (var slideIndex = 0; slideIndex < slidesAtLevel.length; ++slideIndex) {
		var title = slidesAtLevel[slideIndex].title;
		var thumbnail = slidesAtLevel[slideIndex].thumbnail;
		var image = slidesAtLevel[slideIndex].image;
		var childHierarchy = slidesAtLevel[slideIndex].childHierarchy;

		var listItemElement = document.createElement("li");
		if (image) {
			slides.push(slidesAtLevel[slideIndex]);

			var anchorElement = document.createElement("a");
			anchorElement.setAttribute("href", "javascript:goToSlideAtIndex("+((slides.length) - 1)+");");
			var imageElement = document.createElement("img");
			imageElement.setAttribute("src", thumbnail);
			anchorElement.appendChild(imageElement);
			anchorElement.appendChild(document.createTextNode(title));
			listItemElement.appendChild(anchorElement);
		}
		else {
			var imageElement = document.createElement("img");
			imageElement.setAttribute("src", thumbnail);
			listItemElement.appendChild(imageElement);
			listItemElement.appendChild(document.createTextNode(title));
		}	
		loadTOC(listItemElement, childHierarchy);
		listElement.appendChild(listItemElement);
	}
	
	elementToAddTo.appendChild(listElement);
}

function show(id) {
	document.getElementById(id).style.visibility = "visible";
}
function hide(id) {
	document.getElementById(id).style.visibility = "hidden";
}

function showNavigation() {
	document.getElementById('tocIcon').style.opacity = 0.5;
	document.getElementById('tocIcon').style.filter = "alpha(opacity=50)";
	document.getElementById('previousIcon').style.opacity = 0.5;
	document.getElementById('previousIcon').style.filter = "alpha(opacity=50)";
	document.getElementById('nextIcon').style.opacity = 0.5;
	document.getElementById('nextIcon').style.filter = "alpha(opacity=50)";
}
function hideNavigation() {
	document.getElementById('tocIcon').style.opacity = 0;
	document.getElementById('tocIcon').style.filter = "alpha(opacity=0)";
	document.getElementById('previousIcon').style.opacity = 0;
	document.getElementById('previousIcon').style.filter = "alpha(opacity=0)";
	document.getElementById('nextIcon').style.opacity = 0;
	document.getElementById('nextIcon').style.filter = "alpha(opacity=0)";
}

var showNavigationTimeout = null;

function goToSlideAtIndex(slideIndex, silent) {
	currentSlideIndex = slideIndex;
	
	document.getElementById("activeSlide").src = slides[slideIndex].image;
	if (slides[slideIndex].imageSize) {
		document.getElementById("activeSlide").width = slides[slideIndex].imageSize.width;
		document.getElementById("activeSlide").height = slides[slideIndex].imageSize.height;
	}

	var title = slides[slideIndex].title;
	window.document.title = projectTitle + " \u2014 " + title;
	
	var imagemap = slides[slideIndex].imagemap;
	var mapElement = document.getElementById("activeSlideMap");
	while (mapElement.firstChild) {
		mapElement.removeChild(mapElement.firstChild);
	}
	if (imagemap) {
		for (var imagemapIndex = 0; imagemapIndex < imagemap.length; ++imagemapIndex) {
			var href = imagemap[imagemapIndex].href;
			var shape = imagemap[imagemapIndex].shape;
			var coords = imagemap[imagemapIndex].coords;
			var areaElement = document.createElement("area");
			areaElement.setAttribute("href", href);
			areaElement.setAttribute("coords", coords);
			areaElement.setAttribute("shape", shape);
			mapElement.appendChild(areaElement);
		}
	}

	if (currentSlideIndex == 0) {
		hide('previousIcon');
	}
	else {
		show('previousIcon');
	}

	if (currentSlideIndex+1 == slides.length) {
		hide('nextIcon');
	}
	else {
		show('nextIcon');
	}

	// kludge: force the hover color to go away on touch devices
	if (isTouchDevice) {
		document.getElementById('previousIcon').style.backgroundColor = "#fff";
		document.getElementById('nextIcon').style.backgroundColor = "#fff";
	}

	if (!silent) {
		if (history.pushState) {
			if (slideIndex == 0)
				history.pushState(null, document.title, window.location.pathname + window.location.search);
			else
				history.pushState(null, document.title, '#'+slideIndex);
		}
		else {
			location.hash = '#'+slideIndex;
		}
	}
	
	clearTimeout(showNavigationTimeout);
	showNavigation();
	showNavigationTimeout = setTimeout('hideNavigation()', 3000);
}
function goToFirstSlide() {
	goToSlideAtIndex(0);
}
function goToLastSlide() {
	if (slides.length > 0) {
		goToSlideAtIndex(slides.length - 1);
	}
}
function goToPreviousSlide() {
	if (currentSlideIndex > 0) {
		goToSlideAtIndex(currentSlideIndex-1);
	}
}
function goToNextSlide() {
	if (currentSlideIndex+1 < slides.length) {
		goToSlideAtIndex(currentSlideIndex+1);
	}
}
function goToSlideWithUUID(uuid) {
	for (var slideIndex = 0; slideIndex < slides.length; ++slideIndex) {
		if (slides[slideIndex].uuid == uuid) {
			goToSlideAtIndex(slideIndex);
			break;
		}
	}
}

window.onpopstate = function(event) {
	var indexFromHash = window.location.hash.replace('#', '');
	if (indexFromHash)
		currentSlideIndex = parseInt(indexFromHash);
	else
		currentSlideIndex = 0;
	goToSlideAtIndex(currentSlideIndex, true);
};

window.onload = function () {
	loadTOC(document.getElementById("toc"), slideHierarchy);

	var indexFromHash = window.location.hash.replace('#', '');
	if (indexFromHash)
		currentSlideIndex = parseInt(indexFromHash);
	goToSlideAtIndex(currentSlideIndex);
	
	var autoHideTOC = true;
	if (isSafari && !isTouchDevice) // kludge: with Safari on the Mac we have to briefly show the TOC for TOC scrolling to work
		autoHideTOC = false;
	if (autoHideTOC)
		hide('toc');

	document.getElementById('tocIcon').onmouseover=function(){
		show('toc');
	};
	document.getElementById('slide').onmouseover=function(){
		hide('toc');
	};
	document.getElementById('previousIcon').onmousedown=function(){
		goToPreviousSlide();
	};
	document.getElementById('nextIcon').onmousedown=function(){
		goToNextSlide();
	};

	document.getElementById('slide').onmousemove=function(){
		clearTimeout(showNavigationTimeout);
		showNavigation();
		showNavigationTimeout = setTimeout('hideNavigation()', 2000);
	};
	document.getElementById('navigation').onmousemove=function(){
		clearTimeout(showNavigationTimeout);
		showNavigation();
	};
	document.getElementById('navigation').onmouseout=function(){
		clearTimeout(showNavigationTimeout);
		hideNavigation();
	};
	
	if (slides.length <= 1) {
		hide('toc');
		hide('tocIcon');
		hide('previousIcon');
		hide('nextIcon');
	}

	document.onkeydown = function(event) {
		event = event || window.event;
		if (event.keyCode == '37' || event.keyCode == '38') // left or up
			goToPreviousSlide();
	    else if (event.keyCode == '39' || event.keyCode == '40') // right or down
			goToNextSlide();
	};
}
</script> 
</head> 
<body>
	<table id="slide">
		<tr>
			<td>
				<img id="activeSlide" usemap="#activeSlideMap" />
				<map id="activeSlideMap" name="activeSlideMap"></map>
			</td>
		</tr>
	</table>
	<div id="navigation">
		<div id="tocIcon">&#9776;</div>
		<div id="previousIcon">&#9650;</div>
		<div id="nextIcon">&#9660;</div>
	</div>
	<div id="toc"></div>
</body>
</html>
